id: test.rulebook
version: 1.0.0
metadata:
  name: Rulebook Test Package
  description: A test package for M9 Rulebook implementation
  authors:
  - Test Author
  bypass_filters: false
namespaces:
  test:
    id: test
    datatypes:
      colors:
        name: colors
        values:
        - text: red
          tags: {}
          weight: 1.0
        - text: blue
          tags: {}
          weight: 1.0
        - text: green
          tags: {}
          weight: 1.0
        extends: null
        override_tags: {}
      locations:
        name: locations
        values:
        - text: park
          tags: {}
          weight: 1.0
        - text: beach
          tags: {}
          weight: 1.0
        - text: mountain
          tags: {}
          weight: 1.0
        extends: null
        override_tags: {}
      objects:
        name: objects
        values:
        - text: apple
          tags: {}
          weight: 1.0
        - text: ball
          tags: {}
          weight: 1.0
        - text: car
          tags: {}
          weight: 1.0
        extends: null
        override_tags: {}
    prompt_sections:
      object_location:
        name: object_location
        template: a {object} at the {location}
        references:
          location:
            target: test:locations
            filter: null
            min: 1
            max: 1
            separator: null
            unique: false
          object:
            target: test:objects
            filter: null
            min: 1
            max: 1
            separator: null
            unique: false
      simple_color:
        name: simple_color
        template: a {color} item
        references:
          color:
            target: test:colors
            filter: null
            min: 1
            max: 1
            separator: null
            unique: false
      colored_object:
        name: colored_object
        template: a {color} {object}
        references:
          object:
            target: test:objects
            filter: null
            min: 1
            max: 1
            separator: null
            unique: false
          color:
            target: test:colors
            filter: null
            min: 1
            max: 1
            separator: null
            unique: false
    separator_sets: {}
    rules: {}
    decisions: []
    rulebooks:
      varied_scenes:
        name: Varied Scenes
        description: Rulebook with batch variety enabled
        entry_points:
        - prompt_section: test:simple_color
          weight: 1.0
        - prompt_section: test:object_location
          weight: 1.0
        - prompt_section: test:colored_object
          weight: 1.0
        batch_variety: true
        context_defaults: {}
      themed_scenes:
        name: Themed Scenes
        description: Rulebook with context defaults
        entry_points:
        - prompt_section: test:colored_object
          weight: 3.0
        - prompt_section: test:object_location
          weight: 2.0
        batch_variety: false
        context_defaults:
          global:time: sunset
          mood: peaceful
          theme: nature
      basic_scenes:
        name: Basic Scenes
        description: Simple test rulebook with weighted entry points
        entry_points:
        - prompt_section: test:simple_color
          weight: 1.0
        - prompt_section: test:object_location
          weight: 2.0
        - prompt_section: test:colored_object
          weight: 1.5
        batch_variety: false
        context_defaults: {}
      moo_rulebook:
        name: Moo Rulebook
        description: It moos uncontrollably.
        entry_points:
        - prompt_section: test:colored_object
          weight: 1.0
        batch_variety: false
        context_defaults: {}
dependencies: []
