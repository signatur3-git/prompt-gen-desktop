# Invalid Package: Circular References

id: test.invalid.circular
version: 1.0.0

metadata:
  name: "Invalid - Circular References"
  description: "Tests validator detection of circular promptsection references"
  authors: ["Test"]
  bypass_filters: false

namespaces:
  test:
    id: test

    datatypes:
      words:
        name: words
        values:
          - text: "hello"
            weight: 1

    prompt_sections:
      section_a:
        name: section_a
        template: "A: {section_b}"
        references:
          section_b:
            target: section_b  # References section_b
            min: 1
            max: 1

      section_b:
        name: section_b
        template: "B: {section_c}"
        references:
          section_c:
            target: section_c  # References section_c
            min: 1
            max: 1

      section_c:
        name: section_c
        template: "C: {section_a}"  # ERROR: Circular reference back to section_a
        references:
          section_a:
            target: section_a
            min: 1
            max: 1

dependencies: []

